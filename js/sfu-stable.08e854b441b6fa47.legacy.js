"use strict";(("undefined"!=typeof self?self:this).webpackChunkshopee_pc=("undefined"!=typeof self?self:this).webpackChunkshopee_pc||[]).push([[9339],{31806:function(e,t,i){i.d(t,{rP:function(){return Ct}});var r,n,a,o,s,c,l,p,u,d,h,f,v,m,g,_,y,w,b,R,k,x=i(36784),H=i(45727),C=i(87800),P="device_sz_fingerprint",S="sz-token",E="af-ac-enc-sz-token",A="x-sz-sdk-version",T="d-nonptcha-sync",F="/verify/traffic",I="/verify/traffic/error",O="/buyer/login",Z={onInit:function(){},onComplete:function(){},onFail:function(){},onTimeout:function(){}},L=((a={})[(n=Ht)(0)]=Z,a[n(1)]=Z,a.hookFUFetch=Z,a.hookFUXhr=Z,a),U={test:"90a081b48a9c87345189bda87a989d23",uat:"5a733eaa4e1df48aa36fd9316f093107",staging:"d9dd212362d63e8ddb085bb5bce5259f",stable:"dc6fe70845cb784460ead6c7fd76bb91",live:"f9ffc83459897a13dd14c537e84b1753"},D=((r={}).env={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},r.cid={SG:"sg",TW:"xiapi",MY:"my",PH:"ph",TH:"th",ID:"id",VN:"vn",BR:"br",MX:"mx",CO:"co",CL:"cl",PL:"pl",AR:"xiapi",ES:"xiapi",FR:"xiapi",IN:"xiapi"},r),B=["/api/v2/item/get","/api/v4/item/get","/api/v4/pdp/get","/api/v4/pdp/get_pc","/api/v4/pdp/get_rw"],M=["/api/v4/search/search_facet","/api/v4/search/search_items","/api/v4/search/search_page_common","/api/v4/search/get_ymal_items","/api/v4/search/search_filter_config","/api/v4/search/search_mart_items","/api/v4/search/search_user"],z=["/api/v4/shop/get_shop_detail","/api/v4/shop/get_categories","/api/v4/shop/get_shop_tab","/api/v4/shop/rcmd_items","/api/v4/shop/get_shop_base","/api/v4/shop/get_shop_seo","/api/v4/shop/get_products_tab_data","/api/v4/shop/get_membership_data","/api/v4/shop/get_campaign_preview","/api/v4/shop/get_top_products","/api/v4/shop/get_shop_seller_show","/api/v4/shop/get_shop_seller_info","/api/v4/shop/is_show","/api/v4/shop/get_shop_by_user","/api/v4/shop/get_follow_prize_campaign","/api/v4/shop/get_shop_base_preview","/api/v4/shop/search_items","/api/v4/shop/get_shop_core_info","/api/v4/shop/get_popup_data","/api/v4/shop/get_campaign_tab_data","/api/v4/shop/block_user","/api/v4/shop/get_scp_list","/api/v4/shop/get_shop_tab_preview","/api/v4/shop/unfollow","/api/v4/shop/follow"],N=Object.freeze({REQUEST_TIMEOUT:-99,FE_SERVER_ERROR:-999,SERVER_ERROR:10005,t:90309999});(s=o||(o={}))[s.Captcha=1]="Captcha",s[s.ForceLogin=2]="ForceLogin",s[s.Redirect=5]="Redirect",s[s.FORCE_DOWNLOAD_APP=8]="FORCE_DOWNLOAD_APP",s[s.FORCE_BIND_PHONE=9]="FORCE_BIND_PHONE",s[s.VERIFY_PHONE=10]="VERIFY_PHONE",(l=c||(c={}))[l.Block=2]="Block",l[l.Challenge=3]="Challenge",(u=p||(p={}))[u.Level1=1]="Level1",u[u.Level2=2]="Level2",u[u.Level3=3]="Level3",(h=d||(d={})).External="1",h.Internal="2",(v=f||(f={})).ShopeeInternal="1",v.ShopeeApp="2",(g=m||(m={}))[g.AntiCrawler=0]="AntiCrawler",g[g.Dfp=1]="Dfp",(y=_||(_={})).Request="request",y.Success="success",y.Timeout="timeout",y.Failed="failed",(b=w||(w={}))[b.PC=0]="PC",b[b.RW=1]="RW",b[b.SHOPEELIVE=2]="SHOPEELIVE",b[b.BANK=3]="BANK",(k=R||(R={})).FORCEAPP="1",k.BINDPHONE="2",k.VERIFYPHONE="3";var q,V,j=!("undefined"==typeof window||!window.document||!window.document.createElement),W=/beeshop|shopee/i,X=/shopee.*app_type=2(\s|$)/i,J=/shopee-food-driver/i,K=/shopee-express-driver/i,Y=/shopeepay|airpay/i,G=/mitra/i,$=/seatalk/i,Q=/shopee-toc-acc-sdk/i,ee=/now/i,te=/spinjam.*app_type=20(\s|$)/i;(V=q||(q={}))[V.Shopee=1]="Shopee",V[V.ShopeeFoodDriver=2]="ShopeeFoodDriver",V[V.ShopeePartner=3]="ShopeePartner",V[V.ShopeeExpressDriver=4]="ShopeeExpressDriver",V[V.ShopeePay=5]="ShopeePay",V[V.Mitra=6]="Mitra",V[V.SeaTalk=7]="SeaTalk",V[V.ShopeeAccountSdk=8]="ShopeeAccountSdk",V[V.ShopeeFoodBuyer=11]="ShopeeFoodBuyer",V[V.SPinjam=12]="SPinjam";var ie=function(){return void 0!==function(e){if(void 0===e&&(e=function(){if(j)return window.navigator.userAgent}()),void 0!==e)return J.test(e)?q.ShopeeFoodDriver:X.test(e)?q.ShopeePartner:K.test(e)?q.ShopeeExpressDriver:G.test(e)?q.Mitra:$.test(e)?q.SeaTalk:Q.test(e)?q.ShopeeAccountSdk:ee.test(e)?q.ShopeeFoodBuyer:Y.test(e)?q.ShopeePay:W.test(e)?q.Shopee:te.test(e)?q.SPinjam:void 0}()};function re(e,t){var i=function(e,t){if(void 0===t&&(t=!1),!e)return"";var i=Object.keys(e).filter((function(t){return null!=e[t]}));return i.length?(t?"":"?")+i.sort().map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"):""}(t);if(!i.substring(1))return e;var r=e.split("#"),n=r[0],a=r[1];return n=n.indexOf("?")>-1?n+"&"+i.substring(1):""+n+i,a?n+"#"+a:n}var ne=[/^(seller\.)((xiapi|sg|th|vn|id|ph|br|my|tw|mx|co|cl|in|ar|pl|fr|es)\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.cn$/,/^(banhang\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.vn$/,/^(seller\.)((test|uat|staging|live-test|test-stable)\.)?shopee\.(co\.(id|th)|com\.(ar|br|co|mx|my)|cl|es|fr|in|ph|pl|sg|tw)$/];function ae(e){if(!e)return!1;try{var t=new URL(e).hostname;return ne.some((function(e){return e.test(t)}))}catch(e){return!1}}function oe(){return self.__ENV__}function se(){return self.__LOCALE__}var ce,le=((ce={}).malls={SG:"shopee.sg",TW:"shopee.tw",MY:"shopee.com.my",PH:"shopee.ph",TH:"shopee.co.th",ID:"shopee.co.id",VN:"shopee.vn",BR:"shopee.com.br",MX:"shopee.com.mx",CO:"shopee.com.co",CL:"shopee.cl",AR:"shopee.com.ar",FR:"shopee.fr",PL:"shopee.pl",ES:"shopee.es",IN:"shopee.in"},ce.envs={test:"test.",stable:"test-stable.",staging:"staging.",liveish:"live-test.",live:"",uat:"uat."},ce);function pe(e){var t=e.env,i=e.locale;return"https://"+le.envs[t]+le.malls[i]}var ue=/web_sdk_host=snack/i;function de(e){var t=e.isRelative,i=e.host;return re(""+(t?"":i)+e.path,e.params)}function he(e){var t,i,r,n,a,o,s=e.history,c=e.redirectType,l=e.shouldReplaceHistory,p=e.absoluteRedirectPath,u=e.relativeRedirectPath;c!==d.External&&s?l?s.replace(u):ie()?null===(t=window)||void 0===t||null===(i=t.WebViewJavascriptBridge)||void 0===i||i.callHandler("navigate",((a={}).url=p,a.popSelf=0,a.navbar={},a)):s.push(u):l?location.replace(p):ie()?null===(r=window)||void 0===r||null===(n=r.WebViewJavascriptBridge)||void 0===n||n.callHandler("navigate",((o={}).url=p,o.popSelf=0,o.navbar={},o)):location.href=p}function fe(e){var t=e.history,i=e.next,r=e.appKey,n=e.scene,a=void 0===n?"crawler_item":n,o=e.shouldReplaceHistory,s=void 0===o||o,c=e.clientId,l=e.redirectType,p=void 0===l?d.External:l,u=e.verificationPageHost,h=void 0===u?location.origin:u,f=e.antiBotTrackingId,v=e.setRedirecting;p!==d.External&&t||v&&v();var m,g,_,y=(0,C.Z)({is_initial:!0,app_key:r,scene:a,client_id:c,redirect_type:p,next:i,should_replace_history:s,anti_bot_tracking_id:f},i.includes("__mobile__")||ie()?{__mobile__:1}:{});he(((_={}).history=t,_.redirectType=p,_.shouldReplaceHistory=s,_.absoluteRedirectPath=de(((g={isRelative:!1}).host=h,g.path=F,g.params=y,g)),_.relativeRedirectPath=de(((m={isRelative:!0}).host=h,m.path=F,m.params=y,m)),_))}function ve(e){var t,i,r,n,a,o,s=e.history,c=e.trackingId,l=e.shouldReplaceHistory,p=void 0===l||l,u=e.redirectType,h=void 0===u?d.External:u,f=e.verificationPageHost,v=void 0===f?location.origin:f,m=e.homeUrl,g=e.isLoggedIn,_=void 0===g||g,y=e.error_type,w=(0,C.Z)({tracking_id:c,is_logged_in:_,home_url:m||location.origin},y?((r={}).type=y,r):{},y===R.BINDPHONE||y===R.VERIFYPHONE?((i={}).next=location.href,i):{},location.origin.includes("xiapibuy")?((t={}).origin=location.origin,t):{},ie()?{__mobile__:1}:{});he(((o={}).history=s,o.redirectType=h,o.shouldReplaceHistory=p,o.absoluteRedirectPath=de(((a={isRelative:!1}).host=v,a.path=I,a.params=w,a)),o.relativeRedirectPath=de(((n={isRelative:!0}).host=v,n.path=I,n.params=w,n)),o))}function me(e){var t,i=e.history,r=e.next,n=e.redirectType,a=void 0===n?d.External:n,o=e.shouldReplaceHistory,s=void 0===o||o,c=e.verificationPageHost,l=void 0===c?location.origin:c,p=e.isFromGoogleAdsPDP,u=(0,C.Z)({next:r},r.includes("__mobile__")||ie()?{__mobile__:1}:{},p?((t={}).is_from_fu=(new Date).getTime(),t):{});if(function(){if(j){var e=window.navigator.userAgent;if(ue.test(e))return!0}return!1}())window.SHPLSBridge&&(0,H.Z)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.SHPLSBridge.checkLogin();case 2:if(e.t0=!e.sent,!e.t0){e.next=7;break}return e.next=6,window.SHPLSBridge.login();case 6:window.location.reload();case 7:case"end":return e.stop()}}),e)})))();else if(ie()){var h,f;null===(h=window)||void 0===h||null===(f=h.WebViewJavascriptBridge)||void 0===f||f.callHandler("login",((m={}).redirectPath=re("main",((v={}).apprl=r,v)),m.redirectTab=1,m),(function(e){0===(null==e?void 0:e.error)&&location.replace(r)}))}else{var v,m;if(location.origin.includes("xiapibuy")){var g=window.location.origin+"/api/seller_platform/nonce/callback/",_=window.btoa(JSON.stringify(((P={}).next=window.location.href,P))),y=oe();he(((k={}).history=i,k.redirectType=d.External,k.shouldReplaceHistory=s,k.absoluteRedirectPath=de(((R={isRelative:!1}).host="https://account.seller."+(D.env[y]||"")+"shopee.com",R.path="/signin/oauth/identifier",R.params=((b={account_type:2}).client_id=U[y]||U.live,b.require_passwd=!0,b.login_types="[1,2,3,4,5]",b.redirect_uri=g,b.region=se(),b.response_type="tob_nonce",b.scope="profile",b.state=_,b),R)),k.relativeRedirectPath=de(((w={isRelative:!0}).host=l,w.path=O,w.params=u,w)),k))}else{var w,b,R,k,P,S,E,A;he(((A={}).history=i,A.redirectType=a,A.shouldReplaceHistory=s,A.absoluteRedirectPath=de(((E={isRelative:!1}).host=l,E.path=O,E.params=u,E)),A.relativeRedirectPath=de(((S={isRelative:!0}).host=l,S.path=O,S.params=u,S)),A))}}}function ge(e,t){return new Promise((function(i,r){setTimeout((function(){try{i(t())}catch(e){r(e)}}),e)}))}var _e="1.12.14",ye=function(e){var t,i,r,n;!ae(window.location.href)&&(null===(t=window)||void 0===t||null===(i=t.Sentry)||void 0===i||i.captureException(e,((n={}).tags=((r={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+_e,r),n)))};function we(e){var t,i,r,n,a,s,l,p,u,h,f,v,m,g,_=e.antiCrawlerConfig,y=e.response,b=e.pathname,k=e.platform,x=e.source,H=e.setRedirecting,C=e.getRedirecting,P=e.triggerAntiCrawlerCustomizedErrorPage,S=e.triggerAntiCrawlerForceLogin,E=e.triggerAntiCrawlerVerification,A=e.enablePopup;if(y&&_){var T,I,O,Z,L,U,B,M,z,q,V,W,X;if(y[3]?(B=(L=y)[4],M=L[0],z=L[1],W=L[2],V=L[3],q=null===(T=U=L[6])||void 0===T?void 0:T[0],X=null===(I=U)||void 0===I?void 0:I[1]):(B=(L=y).challenge_type,M=L.action_type,z=L.tracking_id,W=L.is_login,V=L.error,q=null===(O=L.captcha_extra_info)||void 0===O?void 0:O.tracking_id,X=null===(Z=L.captcha)||void 0===Z?void 0:Z.business),V!==N.t)return;if(location.href.includes("/verify/traffic")||location.href.includes("/verify/captcha"))return;if(C&&H&&C())return;if(M===c.Block){var J=k===w.SHOPEELIVE?location.origin+"/pc/setup":_.homeUrl;return void P((g={},g.trackingId=z||"",g.shouldReplaceHistory=_.shouldReplaceHistory,g.redirectType=_.redirectType,g.isLoggedIn=W,g.verificationPageHost=_.verificationPageHost,g.homeUrl=J,g))}if(B===o.Captcha){var K=k==w.PC||k==w.RW?(X||"TSS")+"."+w[k]:x?(X||"TSS")+"."+x:_.appKey;if(!K)return;return void(A&&_.usePopupCaptcha?function(e){var t,i,r=e.appKey,n=e.scene,a=void 0===n?"crawler_item":n,o=e.clientId,s=e.shouldReplaceHistory,c=e.antiBotTrackingId,l=e.verificationPageHost;if(j){if(document.querySelector("#sfu-captcha-modal"))return;var p=document.createElement("div");p.setAttribute("id","sfu-captcha-modal"),p.classList.add("sfu-captcha-modal"),p.classList.add("open");var u=document.createElement("div");u.classList.add("sfu-captcha-modal-body"),p.appendChild(u);var h=document.createElement("iframe"),f=((i={is_initial:!0}).app_key=r,i.scene=a,i.client_id=o,i.redirect_type=d.Internal,i.use_popup=!0,i.should_replace_history=s,i.anti_bot_tracking_id=c,i.__mobile__="1",i),v=de(((t={isRelative:!1}).host=l||window.location.protocol+"//"+window.location.host,t.path=F,t.params=f,t));h.setAttribute("src",v),h.setAttribute("name","sfu-captcha-modal-iframe"),h.style.width="100%",h.style.height="100%",u.appendChild(h),document.body.appendChild(p),document.body.classList.add("sfu-captcha-modal-open");var m=document.createElement("script");m.setAttribute("type","text/javascript");var g=document.createTextNode("\n    function closeSFUCaptchaModal() {\n        var sfuCaptchaModal = document.querySelector('#sfu-captcha-modal');\n        if(sfuCaptchaModal){\n          sfuCaptchaModal.remove();\n        }\n        document.body.classList.remove('sfu-captcha-modal-open');\n    }\n    ");m.appendChild(g);var _=document.createElement("style");_.setAttribute("type","text/css");var y=document.createTextNode("\n    .sfu-captcha-modal {\n        display: none;\n        position: fixed; \n        inset: 0;\n        background-color: rgba(0, 0, 0, .75);\n        z-index: 100000;\n        overflow: auto;\n    }\n    .sfu-captcha-modal.open {\n        display: flex;\n    }\n    .sfu-captcha-modal-body {\n        width: 80vw;\n        max-width: 340px;\n        min-wdith:  300px;\n        height: 400px;\n        margin: auto;\n        background: #fff;\n    }\n    .sfu-captcha-modal iframe {\n      box-sizing: border-box;\n    }\n    body.sfu-captcha-modal-open {\n        overflow: hidden;\n    }");_.appendChild(y),document.getElementsByTagName("head")[0].appendChild(_),document.getElementsByTagName("head")[0].appendChild(m)}}((m={},m.clientId=_.captchaClientId||"",m.next=_.next||location.href,m.appKey=K,m.scene="crawler_item",m.redirectType=_.redirectType,m.shouldReplaceHistory=_.shouldReplaceHistory,m.verificationPageHost=_.verificationPageHost,m.antiBotTrackingId=q,m)):E((v={},v.clientId=_.captchaClientId||"",v.next=_.next||location.href,v.appKey=K,v.scene="crawler_item",v.redirectType=_.redirectType,v.shouldReplaceHistory=_.shouldReplaceHistory,v.verificationPageHost=_.verificationPageHost,v.antiBotTrackingId=q,v.setRedirecting=H,v)))}if(B===o.Redirect){var Y=oe(),G=se();if(Y&&G){var $="https://"+(D.cid[G]||"xiapi")+"."+(D.env[Y]||"")+"xiapibuy.com";location.replace($)}return}if(B===o.ForceLogin){var Q,ee;if(location.href.includes("/buyer/login")||location.href.includes("/buyer/authenticate"))return;var te=location.pathname.startsWith("/product")&&location.href.includes("gads_t_sig");te&&(k===w.PC||k===w.RW)&&(window.BITrack?window.BITrack(((f={}).data=((h={type:"v3"}).timestamp=(new Date).getTime(),h.info=((u={operation:"action_sfu_handle"}).data=((p={code:1}).scenario=JSON.stringify(((l={}).response=y,l.pathname=b,l)),p),u),h),f)):!ae(window.location.href)&&(null===(Q=window)||void 0===Q||null===(ee=Q.Sentry)||void 0===ee||ee.captureMessage("BITrack is not defined",((s={}).tags=((a={sentryProjectSlug:"shopee-secure-fetch-utils"}).sfuVersion=""+_e,a),s)))),S(((n={}).next=_.next||location.href,n.redirectType=_.redirectType,n.shouldReplaceHistory=_.shouldReplaceHistory,n.verificationPageHost=_.verificationPageHost,n.isFromGoogleAdsPDP=te,n))}if(B===o.FORCE_DOWNLOAD_APP)return void P((r={},r.trackingId=z||"",r.shouldReplaceHistory=_.shouldReplaceHistory,r.redirectType=_.redirectType,r.verificationPageHost=_.verificationPageHost,r.error_type=R.FORCEAPP,r));if(B===o.FORCE_BIND_PHONE)return void P((i={},i.trackingId=z||"",i.shouldReplaceHistory=_.shouldReplaceHistory,i.redirectType=_.redirectType,i.verificationPageHost=_.verificationPageHost,i.error_type=R.BINDPHONE,i));if(B===o.VERIFY_PHONE)return void P((t={},t.trackingId=z||"",t.shouldReplaceHistory=_.shouldReplaceHistory,t.redirectType=_.redirectType,t.verificationPageHost=_.verificationPageHost,t.error_type=R.VERIFYPHONE,t))}}var be=function(e,t,i,r){if(!e.allowCors&&!i)return!1;if(r&&e.limitMethods&&!e.limitMethods.some((function(e){return e.toLowerCase()===r.toLowerCase()})))return!1;switch(e.match){case"contain":if(t.includes(e.policyurl))return!e.exclude||!e.exclude.some((function(e){return t.includes(e)}));break;case"regexp":if(e.policyurl.test(t))return!e.exclude||!e.exclude.some((function(e){return t.includes(e)}));break;case"full":if(e.policyurl===t)return!0}return!1},Re=function(e,t,i,r){for(var n=0;n<e.length;n++){var a=e[n];if(be(a,t,i,r))return a}},ke=function(){function e(e){void 0===e&&(e=20),this.items=[],this.maxSize=e}var t=e.prototype;return t.enqueue=function(e){this.size()>=this.maxSize&&(this.dequeue(),e instanceof Ce&&this.items[0].civid),this.items.push(e)},t.dequeue=function(){return this.isEmpty()?"Underflow":this.items.shift()},t.isEmpty=function(){return 0===this.items.length},t.size=function(){return this.items.length},t.getItems=function(){return this.items},e}(),xe=function(){function e(e,t){this.key=e,this.timestamp=t}return e.prototype.serialize=function(){var e=new ArrayBuffer(6),t=new DataView(e);return t.setUint16(0,this.key),t.setUint32(2,this.timestamp),e},e}(),He=function(){function e(e,t,i){this.x=e,this.y=t,this.timestamp=i}return e.prototype.serialize=function(){var e=new ArrayBuffer(8),t=new DataView(e);return t.setUint16(0,this.x),t.setUint16(2,this.y),t.setUint32(4,this.timestamp),e},e}(),Ce=function(){function e(e,t,i,r,n,a,o,s,c,l,p){this.operation=e,this.timestamp=t,this.civid=i,this.page_type=r,this.page_section=n,this.target_type=a,this.last_civ_id=o,this.itemidl=s,this.itemidr=c,this.shopidl=l,this.shopidr=p}return e.prototype.serialize=function(e){var t=new ArrayBuffer(34),i=new DataView(t);i.setUint8(0,this.operation),i.setUint32(1,this.timestamp),i.setUint8(5,e.indexOf(this.civid));for(var r=0;r<this.page_type.length;r++)i.setUint8(6+r,this.page_type.charCodeAt(r));for(r=0;r<this.page_section.length;r++)i.setUint8(11+r,this.page_section.charCodeAt(r));return i.setUint8(16,this.target_type),i.setUint8(17,e.indexOf(this.last_civ_id)),i.setUint32(18,this.itemidl),i.setUint32(22,this.itemidr),i.setUint32(26,this.shopidl),i.setUint32(30,this.shopidr),t},e}(),Pe=function(){function e(e,t,i,r,n,a){this.basetimestampl=e,this.basetimestampr=t,this.cividmaplen=i,this.eventlen=r,this.oribitlen=n,this.cividmap=a}return e.prototype.serialize=function(){var e=new ArrayBuffer(11+this.cividmap.length),t=new DataView(e);t.setUint32(0,this.basetimestampl),t.setUint32(4,this.basetimestampr),t.setUint8(8,this.cividmaplen),t.setUint8(9,this.eventlen),t.setUint8(10,this.oribitlen);for(var i=0;i<this.cividmap.length;i++)t.setUint8(11+i,this.cividmap.charCodeAt(i));return e},e}(),Se=new ke(20),Ee=new ke(21),Ae=new ke(5),Te=new ke(5),Fe={view:1,auto_view:2,click:3,impression:4,other:5},Ie={item:1,shop:2,voucher:3,banner:4,category:5,skinny_banner:6,cluster:7,tab:8,other:9};function Oe(){try{var e=void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart;e<Math.pow(10,10)&&(e*=1e3);var t=Math.floor(e/Math.pow(10,9)),i=Math.floor(e%Math.pow(10,9)),r=[];Se.getItems().map((function(e){r.includes(e.civid)||""===e.civid||r.push(e.civid),r.includes(e.last_civ_id)||""===e.last_civ_id||r.push(e.last_civ_id)})),Ae.getItems().map((function(e){r.includes(e.civid)||""===e.civid||r.push(e.civid),r.includes(e.last_civ_id)||""===e.last_civ_id||r.push(e.last_civ_id)}));var n=new Pe(t,i,r.length,Se.size()+Ae.size(),Ee.size(),r.join("")),a=11+n.cividmap.length+34*(Se.size()+Ae.size())+8*Ee.size()+6*Te.size(),o=new ArrayBuffer(a),s=new Uint8Array(o);s.set(new Uint8Array(n.serialize()),0);var c=11+n.cividmap.length;Se.getItems().map((function(e){s.set(new Uint8Array(e.serialize(r)),c),c+=34})),Ae.getItems().map((function(e){s.set(new Uint8Array(e.serialize(r)),c),c+=34})),Ee.getItems().map((function(e){s.set(new Uint8Array(e.serialize()),c),c+=8})),Te.getItems().map((function(e){s.set(new Uint8Array(e.serialize()),c),c+=6}));for(var l=btoa(String.fromCharCode.apply(null,Array.from(s))),p="",u=1,d=0;d<l.length;d++)l[d]===l[d+1]?u++:(p+=u>=5?"A|"+u+"|":l[d].repeat(u),u=1);return p}catch(e){return ye(e),"error"}}function Ze(e){var t,r=e.locale,n=e.env,a=e.platform,o=e.source,s=e.ACConfig,c=e.performanceTrackings,l=void 0===c?L:c,p=e.enableGlobalHook,u=e.enableTMS,h=e.enablePopup,f=e.policies,v=e.onError,g=void 0===v?function(){}:v,_=null,y=null,b=null,R=null,k=null,F=null,I=!1;function O(){I=!0}function Z(){return I}function U(e){(a===w.PC||a===w.RW)&&ye(e)}function D(e){return N.apply(this,arguments)}function N(){return N=(0,H.Z)((0,x.Z)().mark((function e(t){var o,s,c,p,u,d,h,f,v,g;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.history,s=t.onFail,c=void 0===s?function(){}:s,f=Ht,a===w.BANK||(o&&(F=o),null!=y||null!=b||!j)){e.next=21;break}return e.prev=3,l[f(0)].onInit(),l[f(1)].onInit(),y=(0,H.Z)((0,x.Z)().mark((function e(){return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.e(1784).then(i.t.bind(i,1113,23)));case 1:case"end":return e.stop()}}),e)})))(),e.next=9,y;case 9:_=e.sent,l[f(1)].onComplete(),(r||n)&&(_.default?_.default.setSdkConfig((0,C.Z)({},r?((h={}).region=r,h):{},n?((d={}).env=n,d):{})):_.setSdkConfig((0,C.Z)({},r?((u={}).region=r,u):{},n?((p={}).env=n,p):{}))),b=_.default?_.default.initSdk(m.Dfp):_.initSdk(m.Dfp),R=ge(5e3,(function(){return{timeout:!0}})),k=ge(1e3,(function(){return{timeout:!0}})),l[f(0)].onComplete(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),U(e.t0),null!==(v=(g=l[f(0)]).onFail)&&void 0!==v&&v.call(g),c();case 21:case"end":return e.stop()}}),e,null,[[3,18]])}))),N.apply(this,arguments)}function q(){var e,t=function(e){for(var t="",i=0;i<e.length;i++)t+=e[i].toString(16).padStart(2,"0");return t}(function(){for(var e=new Uint8Array(8),t=0;t<8;t++)e[t]=Math.floor(256*Math.random());return e}());return(e={})["af-ac-enc-dat"]=t,e}function V(e){return W.apply(this,arguments)}function W(){return W=(0,H.Z)((0,x.Z)().mark((function e(t){var i,r;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(void 0===t?{}:t).shouldWaitForDfpInit,r=void 0!==i&&i,e.prev=1,e.next=4,y;case 4:return e.next=6,Promise.race([b,r?R:k]);case 6:return e.abrupt("return",_.default?_.default.getClientCheckData():_.getClientCheckData());case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",(U(e.t0),g(e.t0),""));case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),W.apply(this,arguments)}function X(){return X=(0,H.Z)((0,x.Z)().mark((function e(t){var i,r,n,a,o,s,c,l;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.shouldWaitForDfpInit,r=void 0!==i&&i,n=t.useHeader,a=t.customDfp,e.prev=1,e.next=4,y;case 4:return e.next=6,Promise.race([b,r?R:k]);case 6:if("string"!=typeof a){e.next=10;break}e.t0=a,e.next=13;break;case 10:return e.next=12,V(((l={})[Ht(5)]=r,l));case 12:e.t0=e.sent;case 13:return o=e.t0,e.abrupt("return",n?o.length>=300?{}:((c={})[S]=o,c):((s={})[P]=o,s));case 17:return e.prev=17,e.t1=e.catch(1),e.abrupt("return",(U(e.t1),g(e.t1),{}));case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),X.apply(this,arguments)}function J(){return""+_e}function K(){return Y.apply(this,arguments)}function Y(){return Y=(0,H.Z)((0,x.Z)().mark((function e(){var t;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y;case 3:return t=_.default?_.default.getDegradedData():_.getDegradedData(),e.abrupt("return",t&&"string"==typeof t?[].concat(t).some((function(e){return e.charCodeAt(0)>127}))?"":t:"");case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",(U(e.t0),""));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Y.apply(this,arguments)}function G(){return G=(0,H.Z)((0,x.Z)().mark((function e(){var t;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y;case 3:if(!_.default){e.next=9;break}return e.next=6,_.default.getLongToken();case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,_.getLongToken();case 11:e.t0=e.sent;case 12:return t=e.t0,e.abrupt("return",t&&"string"==typeof t?t:"");case 16:return e.prev=16,e.t1=e.catch(0),e.abrupt("return",(U(e.t1),""));case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),G.apply(this,arguments)}return function(){if(j&&p&&!window.__fu_hook){window.__fu_hook=!0,u&&function(){try{document.addEventListener("keydown",(function(e){try{var t,i=performance.now();if(void 0!==e.key&&null!==e.key)1==e.key.length?t=new xe(e.key.charCodeAt(0),i):e.key.length>1&&(t=new xe(e.key.charCodeAt(0)<<8|e.key.charCodeAt(e.key.length-1),i)),Te.enqueue(t);else if(void 0!==e.keyCode){var r=new xe(e.keyCode,i);Te.enqueue(r)}}catch(e){return ye(e),"error"}})),navigator.maxTouchPoints>0?(document.addEventListener("touchmove",(function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new He(t[0].clientX+1e4,t[0].clientY,i);Ee.enqueue(r)}}}catch(e){return ye(e),"error"}})),document.addEventListener("touchend",(function(e){try{if(void 0!==e.touches&&null!==e.touches){var t=void 0;if(e.touches.length>0?t=e.touches:e.changedTouches.length>0&&(t=e.changedTouches),void 0!==t){var i=performance.now(),r=new He(t[0].clientX+1e4,t[0].clientY,i);Ee.enqueue(r)}}}catch(e){return ye(e),"error"}}))):(document.addEventListener("mousemove",(function(e){try{var t=performance.now(),i=new He(e.clientX,e.clientY,t);Ee.enqueue(i)}catch(e){return ye(e),"error"}})),document.addEventListener("click",(function(e){try{var t=performance.now(),i=new He(e.clientX+1e4,e.clientY,t);Ee.enqueue(i)}catch(e){return ye(e),"error"}})))}catch(e){ye(e)}if("function"==typeof window.IDBObjectStore){var e=IDBObjectStore.prototype.add;try{IDBObjectStore.prototype.add=function(t,i){try{if("object"==typeof t&&null!==t&&null!==t.data&&void 0!==t.data){var r=JSON.parse(t.data);if(null!==r.operation&&void 0!==r.operation){var n=-1!==Fe[r.operation]?Fe[r.operation]:0,a=r.event_timestamp-(void 0!==performance.timeOrigin?performance.timeOrigin:performance.timing.navigationStart),o=r.civ_id.replaceAll("-",""),s=r.page_type.slice(0,5),c=r.page_section.slice(0,5),l=0;""!=r.target_type&&null!==r.target_type&&(l=Ie[r.target_type]?Ie[r.target_type]:9);var p="";null!==r.last_civ_id&&void 0!==r.last_civ_id&&(p=r.last_civ_id.replaceAll("-",""));var u=0,d=0;if(null!==r.data&&void 0!==r.data){var h=r.data;if(null!==h.viewed_objects&&void 0!==h.viewed_objects&&h.viewed_objects.length>0){var f=h.viewed_objects[0];null!=f&&(null!==f.ctx_itemid&&void 0!==f.ctx_itemid&&(u=f.ctx_itemid),null!==f.itemid&&void 0!==f.itemid&&(u=f.itemid),null!==f.item_id&&void 0!==f.item_id&&(u=f.item_id),null!==f.ctx_shopid&&void 0!==f.ctx_shopid&&(d=f.ctx_shopid),null!==f.shopid&&void 0!==f.shopid&&(d=f.shopid),null!==f.shop_id&&void 0!==f.shop_id&&(d=f.shop_id))}}var v=Math.floor(u/Math.pow(10,9)),m=u%Math.pow(10,9),g=Math.floor(d/Math.pow(10,9)),_=d%Math.pow(10,9);3==n?Ae.enqueue(new Ce(n,a,o,s,c,l,p,v,m,g,_)):Se.enqueue(new Ce(n,a,o,s,c,l,p,v,m,g,_))}}}catch(e){ye(e)}return e.call(this,t,i)}}catch(e){ye(e)}}}();var e=window.fetch;window.fetch=(0,H.Z)((0,x.Z)().mark((function t(){var i,c,p,v,m,g,_,y,b,R,k,H,P,S,I,L,N,V,j,W,X,Y,G,$,Q,ee,te,ie,re,ne,ae,oe,se,ce,le,ue,de,he=arguments;return(0,x.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=he.length,c=new Array(i),p=0;p<i;p++)c[p]=he[p];if(R=c[0],k=c[1],t.prev=2,L=(I=window.Request&&R instanceof Request?new URL(R.url,window.location.origin):new URL(R.toString(),window.location.origin)).origin===window.location.origin,N=I.pathname.replace(/\/+$/,""),V=null===(H=k)||void 0===H||null===(P=H.method)||void 0===P?void 0:P.toLowerCase(),j=performance.now(),X=!1,!(W=!1)&&null!==(S=k)&&void 0!==S&&S.anticrawler&&(W=!0),u&&(B.some((function(e){return N===e}))||M.some((function(e){return N===e}))||z.some((function(e){return N===e})))&&(X=!0),!W&&f&&Array.isArray(f)&&f.length>0&&(W=Boolean(Re(f,N,L,V))),!W){t.next=15;break}return l.hookFUFetch.onInit(),D({}),Q=J(),t.next=9,K();case 9:ee=t.sent,te=q(),window.Request&&R instanceof Request?(R.headers.set(A,Q),R.headers.set(E,ee),Object.entries(te).forEach((function(e){var t=e[0],i=e[1];R.headers.set(t,i)})),X&&(ie=Oe(),R.headers.set(T,ie))):k?Array.isArray(k.headers)?(k.headers.push([A,Q]),k.headers.push([E,ee]),Object.entries(te).forEach((function(e){var t,i=e[0],r=e[1];(null===(t=k)||void 0===t?void 0:t.headers).push([i,r])})),X&&(re=Oe(),k.headers.push([T,re]))):k.headers=(0,C.Z)({},k.headers,te,((Y={})[E]=ee,Y[A]=Q,Y),X?((b={})[T]=Oe(),b):{}):((y={}).headers=(0,C.Z)({},te,((G={})[E]=ee,G[A]=Q,G),X?((_={})[T]=Oe(),_):{}),k=y),(a===w.PC||a===w.RW)&&(!window.__SFUC&&(window.__SFUC=0),window.__SFUC++),ne=performance.now(),ae=Math.floor(ne-j),(null===($=k)||void 0===$||!$.anticrawler)&&l.hookFUFetch.onComplete(ae);case 15:return t.next=17,e(R,k);case 17:if((oe=t.sent)&&oe.ok){t.next=20;break}return t.abrupt("return",oe);case 20:if(t.prev=20,se=oe.status,!(W&&se>=200&&se<300&&204!==se)){t.next=32;break}if(!(ce=oe.headers.get("content-type"))||!ce.includes("application/json")){t.next=32;break}return t.next=27,oe.clone().json();case 27:if((ue=t.sent)&&"object"==typeof ue&&!Array.isArray(ue)){t.next=30;break}return t.abrupt("return",oe);case 30:de=null!==(le=k)&&void 0!==le&&le.anticrawler?k.anticrawler:null==s?void 0:s[N],we((m=Ht,(g={}).antiCrawlerConfig=(0,C.Z)({redirectType:a==w.PC||a==w.RW?d.Internal:d.External,verificationPageHost:a==w.PC||a==w.RW?location.origin:pe((v={},v.env=n||"live",v.locale=r||"SG",v))},de,{shouldReplaceHistory:!1!==(null==de?void 0:de.shouldReplaceHistory)&&"false"!==(null==de?void 0:de.shouldReplaceHistory)}),g.response=ue,g.pathname=N,g.platform=a,g.source=o,g.setRedirecting=O,g.getRedirecting=Z,g[m(2)]=function(e){return ve((0,C.Z)({},e,{history:F}))},g[m(3)]=function(e){return me((0,C.Z)({},e,{history:F}))},g[m(4)]=function(e){return fe((0,C.Z)({},e,{history:F}))},g.enablePopup=h,g));case 32:return t.abrupt("return",oe);case 35:return t.prev=35,t.t0=t.catch(20),t.abrupt("return",(U(t.t0),oe));case 38:t.next=43;break;case 40:return t.prev=40,t.t1=t.catch(2),t.abrupt("return",(U(t.t1),e.apply(void 0,c)));case 43:case"end":return t.stop()}}),t,null,[[2,40],[20,35]])})));var t=XMLHttpRequest.prototype.open,i=XMLHttpRequest.prototype.setRequestHeader,c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];this.openargs=i,this.headers={},t.apply(this,i)},XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.headers[e]=t,i.call(this,e,t)},XMLHttpRequest.prototype.send=function(){var e=(0,H.Z)((0,x.Z)().mark((function e(t){var i,p,v,m,g,_,y,b,R,k,H,P,S,I,L,N=this;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i="",p=!1,v=!1,!this.openargs){e.next=19;break}if(m=new URL(this.openargs[1].toString(),window.location.origin),g=m.origin===window.location.origin,i=m.pathname.replace(/\/+$/,""),_=this.openargs[0].toLowerCase(),y=performance.now(),f&&Array.isArray(f)&&f.length>0&&(p=Boolean(Re(f,i,g,_))),u&&(B.some((function(e){return i===e}))||M.some((function(e){return i===e}))||z.some((function(e){return i===e})))&&(v=!0),!p){e.next=19;break}for(k in l.hookFUXhr.onInit(),D({}),b=J(),!this.headers[A]&&this.setRequestHeader(A,b),R=q())!this.headers[k]&&this.setRequestHeader(k,R[k]);return e.next=14,K();case 14:H=e.sent,!this.headers[E]&&this.setRequestHeader(E,H),v&&(P=Oe(),!this.headers[T]&&this.setRequestHeader(T,P)),(a===w.PC||a===w.RW)&&(!window.__SFUC&&(window.__SFUC=0),window.__SFUC++),S=performance.now(),I=Math.floor(S-y),l.hookFUXhr.onComplete(I);case 19:L=this.onreadystatechange,this.onreadystatechange=function(){if(N.readyState===XMLHttpRequest.DONE)try{if(p&&N.status>=200&&N.status<300&&204!==N.status){var e=N.getResponseHeader("Content-Type");if(e&&!e.includes("application/json"))return;var t=N.responseType;if("blob"==t||"arraybuffer"==t||"document"==t)return;var c=t&&"text"!==t&&N.response?N.response:JSON.parse(N.responseText),l=null==s?void 0:s[i];we((f=Ht,(v={}).antiCrawlerConfig=(0,C.Z)({redirectType:a==w.PC||a==w.RW?d.Internal:d.External,verificationPageHost:a==w.PC||a==w.RW?location.origin:pe((u={},u.env=n||"live",u.locale=r||"SG",u))},l,{shouldReplaceHistory:"false"!==(null==l?void 0:l.shouldReplaceHistory)}),v.response=c,v.pathname=i,v.source=o,v.platform=a,v.setRedirecting=O,v.getRedirecting=Z,v[f(2)]=function(e){return ve((0,C.Z)({},e,{history:F}))},v[f(3)]=function(e){return me((0,C.Z)({},e,{history:F}))},v[f(4)]=function(e){return fe((0,C.Z)({},e,{history:F}))},v.enablePopup=h,v))}}catch(r){U(r)}for(var u,f,v,m=arguments.length,g=new Array(m),_=0;_<m;_++)g[_]=arguments[_];null==L||L.apply(N,g)},e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),U(e.t0);case 26:return e.prev=26,c.call(this,t),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[0,23,26,29]])})));return function(t){return e.apply(this,arguments)}}()}}(),(t={}).i=D,t.o=J,t.l=K,t.p=function(){return G.apply(this,arguments)},t.u=q,t.h=function(e){return fe((0,C.Z)({},e,{history:F}))},t.v=function(e){return ve((0,C.Z)({},e,{history:F}))},t.m=function(e){return me((0,C.Z)({},e,{history:F}))},t._=V,t.R=function(e){return X.apply(this,arguments)},t.getRedirecting=Z,t.setRedirecting=O,t.ACConfig=s,t}function Le(){return["Lx2KHacRl0mPLgb2s4bO","Xt7ZnacRl0mPLgb2s4bO","HkzKn4HRJBaSHtRoJAa0XtmPd0mYHt7MLgKRnwmPJA7PstaWnd","HkzKn4HRJBaSHtRoJAa0XtmPbA7Pl4mpX4HKXE","HkzKn4HRJBaSHtRoJAa0XtmPmAmPLxnKl4a6Lx7S","J4ZTHxGBm4aKHwnTJBbAJwRSLgd","lx26LsnPlgmBd47SnARW","n4m6m4mFbtm4LxcRbARSn4mPJkzKXWd"]}var Ue,De,Be,Me,ze,Ne,qe,Ve,je,We,Xe,Je,Ke,Ye,Ge,$e,Qe,et,tt,it,rt,nt,at,ot,st,ct,lt,pt,ut,dt,ht,ft,vt,mt,gt,_t,yt,wt,bt,Rt=((De={})["/webapi/v1/shop_page/replay/add"]={shouldReplaceHistory:"false"},De["/webapi/v1/host_config/permission"]={shouldReplaceHistory:"false"},De["/webapi/v1/item/my_shop"]={shouldReplaceHistory:"false"},De["/webapi/v1/item/my_likes"]={shouldReplaceHistory:"false"},De["/webapi/v1/item/my_recent"]={shouldReplaceHistory:"false"},De["/webapi/v1/item/parse_url"]={shouldReplaceHistory:"false"},De),kt=((Ue={})["/api/v4/microsite/get_items"]={shouldReplaceHistory:"false"},Ue["/api/v4/market_coin/get_product_feeds"]={shouldReplaceHistory:"false"},Ue["/api/v2/add_on_deal/info"]={shouldReplaceHistory:"false"},Ue["/api/v2/add_on_deal/get_main_item_info"]={shouldReplaceHistory:"false"},Ue["/api/v2/add_on_deal/get_add_on_deal_list"]={shouldReplaceHistory:"false"},Ue["/api/v2/add_on_deal/get_sub_item_info"]={shouldReplaceHistory:"false"},Ue["/api/v4/flash_sale/flash_sale_get_items"]={shouldReplaceHistory:"false"},Ue["/api/v4/flash_sale/spm/get_all_itemids"]={shouldReplaceHistory:"false"},Ue["/api/v4/pdp/other_quantities/get"]={shouldReplaceHistory:"false"},Ue["/api/v4/product/get_shop_info"]={shouldReplaceHistory:"false"},Ue["/api/v4/search/search_prefills"]={shouldReplaceHistory:"false"},Ue["/api/v4/search/search_hint"]={shouldReplaceHistory:"false"},Ue["/api/v4/search/trending_search"]={shouldReplaceHistory:"false"},Ue),xt=[(wt={policyurl:/api\/v3\/affiliateplatform\/.*/,match:"regexp"},wt),(yt={policyurl:/api\/pas\/v1\/setup_helper\/.*/,match:"regexp"},yt),(_t={policyurl:"api/selleradmin/v1/product",match:"contain"},_t),(gt={policyurl:"api/marketing/v4/review_prize/get_products",match:"contain"},gt),(mt={policyurl:"api/marketing/v4/discount/global/get_items",match:"contain"},mt),(vt={policyurl:"api/v3/settings/reply_shop_rating",match:"contain"},vt),(ft={policyurl:"api/marketing/v3/public/product_selector",match:"contain"},ft),(ht={policyurl:/webchat\/api\/v1\.2\/mini\/order\/.*/,match:"regexp"},ht),(dt={policyurl:/webchat\/api\/v1\.2\/order\/.*\/rate_buyer/,match:"regexp"},dt),(ut={policyurl:/webchat\/api\/v1\.2\/order\/.*\/cancel/,match:"regexp"},ut),(pt={policyurl:"webchat/api/v1.2/mini/orders/orders_by_buyer",match:"contain"},pt),(lt={policyurl:"webchat/api/v1.2/orders/orders_by_buyer",match:"contain"},lt),(ct={policyurl:"api/mkt/cmt/bidding/bidding_list",match:"contain"},ct),(st={policyurl:"api/mkt/cmt/nominated/nominated_entity_list",match:"contain"},st),(ot={policyurl:"api/mkt/cmt/preview/preview_list",match:"contain"},ot),(at={policyurl:"api/mkt/cmt/product/online/selector/verify",match:"contain"},at),(nt={policyurl:"api/mkt/cmt/product/online/selector/verify_products_select_for_bid",match:"contain"},nt),(rt={policyurl:"api/crm/v1/product_selector",match:"contain"},rt),(it={policyurl:"api/marketing/v4/graphql/query",match:"contain"},it),(tt={policyurl:"api/marketing/v4/public/product_selector",match:"contain"},tt),(et={policyurl:"api/marketing/v4/shop_flash_sale/batch_items/get",match:"contain"},et),(Qe={policyurl:"api/n/decoration/public/get_flash_sale_info",match:"contain"},Qe),($e={policyurl:"api/n/decoration/public/get_mega_campaign_items",match:"contain"},$e),(Ge={policyurl:"api/marketing/v4/review_prize/get_recommend_products",match:"contain"},Ge),(Ye={policyurl:"api/marketing/v4/review_prize/get_svs_item_info",match:"contain"},Ye),(Ke={policyurl:"api/marketing/v4/review_prize/item/list",match:"contain"},Ke),(Je={policyurl:"api/marketing/v4/review_prize/product_selector",match:"contain"},Je),(Xe={policyurl:"api/marketing/v3/voucher/product_selector",match:"contain"},Xe),(We={policyurl:"api/v1/affiliateplatform/shop/itemsv2",match:"contain"},We),(je={policyurl:"api/v3/affiliateplatform/gql",match:"contain"},je),(Ve={policyurl:"api/tool/mass_product/get_unpublished_product_list",match:"contain"},Ve),(qe={policyurl:"api/v2/message",match:"contain",allowCors:!0},qe),(Ne={policyurl:"api/v2/solution",match:"contain",allowCors:!0},Ne),(ze={policyurl:"api/v2/user_message_history",match:"contain",allowCors:!0},ze),(Me={policyurl:"api/v2/init_session",match:"contain",allowCors:!0},Me),(Be={policyurl:"api/v2/order_list",match:"contain",allowCors:!0},Be)];function Ht(e,t){var i=Le,r=i();return!i.Vh&&(i.Vh=[]),Ht=function(t,n){t-=0;var a=i.Vh[t];return a||(void 0===Ht.Vl&&(Ht.VY=function(e){for(var t,i,r="",n="",a=0,o=0;i=e.charAt(o++);~i&&(t=a%4?64*t+i:i,a++%4)?r+=String.fromCharCode(255&t>>(-2*a&6)):0)i="rqfowatkjzvepcuhdbyismxglnLXJHCUEZFNBRAWIKVOQMSTDGPY6840329157+/=".indexOf(i);for(var s=0,c=r.length;s<c;s++)n+="%"+("00"+r.charCodeAt(s).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Ht.Vl=!0),a=Ht.VY(r[t]),i.Vh[t]=a),a},Ht(e,t)}function Ct(e){var t,r,n,a,o,s=e.locale,c=e.env,l=e.platform,p=e.source,u=e.enableGlobalHook,d=e.enableTMS,h=e.baseUrl,f=void 0===h?"":h,v=e.shouldAppendHost,m=(e.allowShortDfp,e.headers),g=e.enablePopup,_=void 0!==g&&g,y=e.handleMaintenanceModeResponse,b=e.policies,R=e.performanceTrackings,k=void 0===R?L:R,E=e.onError,T=void 0===E?function(){}:E,F=e.onJsonResponse,I=void 0===F?function(){}:F,O=(n={},(r=l)==w.PC||r==w.RW?n=kt:r===w.SHOPEELIVE&&(n=Rt),n),Z=Ze(((t={}).locale=s,t.platform=l,t.source=p,t.policies=b,t.env=c,t.ACConfig=O,t.performanceTrackings=k,t.enableTMS=d,t.enableGlobalHook=u,t.enablePopup=_,t.onError=T,t)),U=Z.i,D=Z._,B=Z.R,M=Z.v,z=Z.m,q=Z.h,V=Z.o,W=(Z.l,Z.p);function X(e,t,i){return J.apply(this,arguments)}function J(){return J=(0,H.Z)((0,x.Z)().mark((function e(t,r,n){var a,o,s,c,l,p,u,d,h,g;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=!j&&!/^(https?:)?\/\//.test(t)||v?""+f+t:t,o=null!=r&&r.isFormData?n||new FormData:JSON.stringify(n),s=null!=r&&r.isFormData?void 0:{Accept:"application/json","Content-Type":"application/json"},e.next=6,(window.global=window,i.g&&i.g.fetch?i.g.fetch:fetch)(a,(0,C.Z)({method:r&&r.method?r.method:"GET",headers:(0,C.Z)({},s,null!=r&&r.overideCreateSFUHeaders?null==r?void 0:r.headers:(0,C.Z)({},m,null==r?void 0:r.headers))},r&&!1===r.withCredentials?{}:{credentials:"include"},{body:o,signal:null==r?void 0:r.signal,anticrawler:null==r?void 0:r.antiCrawlerConfig}));case 6:if(c=e.sent,!((l=c.status)>=200&&l<300)){e.next=16;break}if(!(p=c.headers.get("content-type"))||p.includes("application/json")){e.next=12;break}return e.abrupt("return",c);case 12:return e.next=14,c.json();case 14:return u=e.sent,e.abrupt("return",(I(u,c),"object"!=typeof u||Array.isArray(u)?u:(0,C.Z)({},u,{__raw:c})));case 16:return e.abrupt("return",408===l?((g={}).error=N.REQUEST_TIMEOUT,g.error_msg=l.toString(),g.__raw=c,g):(y&&y(c),(h={}).error=N.SERVER_ERROR,h.error_msg=null==l?void 0:l.toString(),h.__raw=c,h));case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",((d={}).error=N.SERVER_ERROR,d.error_msg=e.t0,d));case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),J.apply(this,arguments)}function K(){return K=(0,H.Z)((0,x.Z)().mark((function e(t,i){var r,n,a,o,s,c,l,p,u,d,h,f;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ht,a=(null==i?void 0:i[n(6)])||{},o=a.antiCrawler,s=a.apiProtection,(c=a.deviceFingerPrint)&&U({}),e.next=4,c?B(((u={useHeader:!0})[(p=Ht)(5)]=c[p(5)]||!1,u.customDfp=c.customDfp,u)):Promise.resolve({});case 4:return d=e.sent,h=null!=c&&c.dataFormatter?c.dataFormatter(d["sz-token"]||""):d,f=o?Z.u():{},e.next=9,X(t,((l={method:"GET"}).headers=(0,C.Z)({},null==i?void 0:i.headers,f,h,((r={})[A]=V(),r)),l.overideCreateSFUHeaders=null==i?void 0:i.overideCreateSFUHeaders,l.withCredentials=null==s?void 0:s.withCredentials,l.signal=null==i?void 0:i.signal,l.antiCrawlerConfig=o,l));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function Y(){return Y=(0,H.Z)((0,x.Z)().mark((function e(t,i,r){var n,a;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in n=new FormData,i)n.append(a,i[a]);return e.abrupt("return",G(t,n,(0,C.Z)({},r,{isFormData:!0})));case 3:case"end":return e.stop()}}),e)}))),Y.apply(this,arguments)}function G(e,t,i){return $.apply(this,arguments)}function $(){return $=(0,H.Z)((0,x.Z)().mark((function e(t,i,r){var n,a,o,s,c,l,p,u,d,h,f,v,m,g;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ht,o=(null==r?void 0:r[a(6)])||{},s=o.antiCrawler,c=o.apiProtection,(l=o.deviceFingerPrint)&&U({}),!l){e.next=8;break}return e.next=5,B((d=Ht,(h={}).useHeader=null==l?void 0:l.useHeader,h[d(5)]=l[d(5)]||!1,h.customDfp=l.customDfp,h));case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0={};case 9:return f=e.t0,v=null!=l&&l.dataFormatter?l.dataFormatter(null!=l&&l.useHeader?f[S]||"":f[P]||""):f,m=null!=r&&r.isFormData||null!=l&&l.useHeader||(u=v)&&0===Object.keys(u).length&&Object.getPrototypeOf(u)===Object.prototype?i:(0,C.Z)({},i,v),g=s?Z.u():{},e.next=15,X(t,((p={method:"POST"}).headers=(0,C.Z)({},null==r?void 0:r.headers,g,null!=l&&l.useHeader?v:{},((n={})[A]=V(),n)),p.isFormData=null==r?void 0:r.isFormData,p.overideCreateSFUHeaders=null==r?void 0:r.overideCreateSFUHeaders,p.withCredentials=null==c?void 0:c.withCredentials,p.signal=null==r?void 0:r.signal,p.antiCrawlerConfig=s,p),m);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}return a=Ht,(o={}).http=X,o.get=function(e,t){return K.apply(this,arguments)},o.post=G,o.postForm=function(e,t,i){return Y.apply(this,arguments)},o[a(0)]=function(e){var t;j&&Z.i(((t={}).history=null==e?void 0:e.history,t))},o[a(4)]=q,o[a(2)]=M,o[a(3)]=z,o[a(7)]=D,o.getLongToken=W,o}[(bt={policyurl:"api/mydata",match:"contain",exclude:["api/mydata/homepage/key-metrics"]},bt)].concat(xt)}}]);
//# sourceMappingURL=https://sourcemap.webfe.shopeemobile.com/pcmall-static/_/sfu-stable.08e854b441b6fa47.legacy.js.map